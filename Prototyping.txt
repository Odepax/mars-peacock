<?php

$theme = new ThemeBuilder(function (ThemeSettings $settings, FeatureSupport $platform)
{
	$settings->default->overall->color = WHITE;
	$settings->default->overall->background = BLACK;
	// $settings -> SET -> SCOPE -> PROPERTY = VALUE ;

	/*
		SETS: +: class -:instance
			+ Programming
				- C#
				- Java
				- Python
				- XML
				- CSS
			+ Markup
				- Markdown
				- Tex
			+ Editor
				- Editor

		SCOPES:
			+ Programming
				- Overall
				- Keyword
					- Operator
				- Type
					- Namespace
					- Concrete
					- Abstract
					- Metadata
				- Comment
					- Documentation
				- Constant
					- Numeric
					- Boolean
					- Magic
					- Text
				- Punctuation
					- Symbol
	*/
	
	$settings->default->comment->color = GREY;
	$settings->default->punctuation->color = GREY;
	$settings->default->keyword->color = YELLOW;

	if ($platform->supports(Feature::SCROLLBAR_INDICATORS)) {
		$settings->editor->error->scrollbarIndicator = RED;
	}

	switch ($platform->firstSupported(Feature::UNDERWAVING, Feature::DOUBLE_UNDERLINING, Feature::UNDERLINING)) {
		case Feature::UNDERWAVING: $settings->editor->error->underline = UNDERWAVE; break;
		case Feature::DOUBLE_UNDERLINING: $settings->editor->error->underline = DOUBLE_UNDERLINE; break;
		case Feature::UNDERLINING: $settings->editor->error->underline = UNDERLINE; break;

		default:
			if ($platform->supports(Feature::SCOPED_BACKGROUND)) {
				$settings->editor->error->background = RED;
			} else {
				$settings->editor->error->color = RED;
			}
	}

	$settings->xml = applyLanguageSpecificColorMerging($settings->default, ORANGE, RED);
	$settings->ruby = applyLanguageSpecificColorMerging($settings->default, RED, GREY);
});
